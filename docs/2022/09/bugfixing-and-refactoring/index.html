<!doctype html><html lang="en"><head><title>You should never fix bugs and do code refactoring at the same time</title><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="generator" content="Eduard Roccatello"><meta name="generator" content="Hugo 0.150.0"><meta name="author" content="Eduard Roccatello"><meta name="description" content="How deep the rabbit hole goes? When coding, you might not want to find it out. Let's see why!"><meta property="og:title" content="You should never fix bugs and do code refactoring at the same time"><meta property="og:site_name" content="Eduard Roccatello's GIS blog"><meta property="og:url" content="https://www.roccatello.it/2022/09/bugfixing-and-refactoring/"><meta property="og:description" content="How deep the rabbit hole goes? When coding, you might not want to find it out. Let's see why!"><meta property="og:type" content="article"><meta property="og:image" content="https://www.roccatello.it/img/posts/bugs.jpg"><link href="/init.ee2bdbeda8ae4e5525c6.css" rel="stylesheet"><script src="/init.346aa.js"></script></head><body><nav class="navbar navbar-dark fixed-top bg-dark navbar-expand-lg" id="navbar-main"><div class="container"><a class="navbar-brand" href="/">Eduard Roccatello's GIS blog</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ms-auto"><li class="nav-item"><a class="nav-link" href="/#mondogis"><span>Tales from the GIS</span></a></li><li class="nav-item"><a class="nav-link" href="/post"><span>Articles</span></a></li><li class="nav-item"><a class="nav-link" href="/#showcase"><span>Showcase</span></a></li><li class="nav-item"><a class="nav-link" href="/#aboutme"><span>About</span></a></li><li class="nav-item"><a class="nav-link" href="/#contacts"><span>Contacts</span></a></li></ul></div></div></nav><article class="article" itemscope itemtype="http://schema.org/Article"><div class="p-3 bg-success text-light mb-0"><div class="container"><div class="row"><div class="col col-lg-8 offset-lg-2"><h2>You should never fix bugs and do code refactoring at the same time</h2><p class="lead">How deep the rabbit hole goes? When coding, you might not want to find it out. Let&rsquo;s see why!</p></div></div></div></div><div class="bg-secondary"><div class="container text-light"><div class="d-flex justify-content-between align-items-center pt-3 pb-3 col col-lg-8 offset-lg-2"><div class="article-metadata"><span itemscope itemprop="author" itemtype="http://schema.org/Person"><meta itemprop="name" content="Eduard Roccatello"></span><span class="article-date"><meta content="2022-09-10 00:00:00 +0000 UTC" itemprop="datePublished"><time datetime="2022-09-10 00:00:00 +0000 UTC" itemprop="dateModified"><i class="fa fa-calendar fa-fw mr-1"></i>2022-09-10
</time></span><span itemscope itemprop="publisher" itemtype="http://schema.org/Person"><meta itemprop="name" content="Eduard Roccatello"></span><span class="middot-divider"></span>
<span class="article-reading-time"><i class="fa fa-clock fa-fw mr-1"></i>2 min read</span></div><div class="share-box" aria-hidden="true"><ul class="share list-inline m-0"><li class="list-inline-item"><a class="facebook text-light" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.roccatello.it%2f2022%2f09%2fbugfixing-and-refactoring%2f" target="_blank" rel="noopener"><i class="fab fa-fw fa-facebook-f"></i></a></li><li class="list-inline-item"><a class="linkedin text-light" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.roccatello.it%2f2022%2f09%2fbugfixing-and-refactoring%2f&amp;title=You%20should%20never%20fix%20bugs%20and%20do%20code%20refactoring%20at%20the%20same%20time" target="_blank" rel="noopener"><i class="fab fa-fw fa-linkedin-in"></i></a></li><li class="list-inline-item"><a class="email text-light" href="mailto:?subject=You%20should%20never%20fix%20bugs%20and%20do%20code%20refactoring%20at%20the%20same%20time&amp;body=https%3a%2f%2fwww.roccatello.it%2f2022%2f09%2fbugfixing-and-refactoring%2f"><i class="fas fa-fw fa-envelope"></i></a></li></ul></div></div></div></div><div class="container"><div class="article-style row pt-4" itemprop="articleBody"><div class="col col-lg-8 offset-lg-2"><h3 id="lets-briefly-describe-a-scenario">Let&rsquo;s briefly describe a scenario</h3><p>Dling! A new ticket has arrived. It is a bug report about the project you are working on. Medium severity, non blocker, but a major one. You can easily confirm the bug.</p><p>You have enough details to create an issue to put in the backlog and discuss it at the next planning meeting.
At the planning meeting, you are requested to give an estimate about the time needed to fix that bug.</p><p>Let&rsquo;s say your estimate is about two working days.</p><h3 id="getting-things-done">Getting things done</h3><p>The first thing to do is figure out how to reproduce it and why it happens.</p><p>After a while, you find the point where it happens, and you start to reason about the best way to solve that issue.
The problem is quite simple: in the last PR a change request revised some specs and an if branch condition was not updated with the revised specification. You also find out that there is a lot of duplicated code shared between if branches.
Who did that and why? You don&rsquo;t remember, but you can really make it cleaner with some code refactoring, to remove duplicated code.</p><h3 id="nesting">Nesting</h3><p>Instead of simply fix that bug by just copying the code in the incomplete branch, you start refactoring your codebase. But once you start, you start browsing code references and find out that you need to refactor the caller class. And, guess what?, you may need to work on the caller of the caller, and so on, in a potential infinite refactoring loop.
After a while, you are done, but you have edited a lot of code, which needs testing. You may have introduced something wrong or missed some aspects.
The bug is now fixed but, instead of taking two days, a week is passed, and you are past due, and you aren&rsquo;t sure if your solution is 100% OK.</p><h3 id="bugfix-only">Bugfix only</h3><p>My suggestion is to bug fix only. Do not care about cleanliness, perfection and beautiful code when fixing bugs.
It is the best way to bring a success home, and you also may create a immediate issue for future refactoring (so you know it could be better and say that to the team).</p><p>Obviously, it may happen that a feature needs refactoring to solve a problem. In that case, you may postpone the fix or discuss with the whole team the pro and cons of the whole operation.</p><blockquote><p>Always work on bugs and refactor as separate processes. Do not mix ;)</p></blockquote></div></div><div class="article-widget col col-lg-8 offset-lg-2 mt-3"><div class="hr-light"></div><h3 class="text-secondary">Related</h3><hr><ul><li><a class="link-success" href="/2022/08/senior-developer-tips/">Six software development tips from a senior software engineer</a></li><li><a class="link-success" href="/2022/07/4th-industrial-revolution-technologies/">What are the technologies that will empower the fourth industrial revolution?</a></li><li><a class="link-success" href="/2019/06/5-fallacie-logiche-sviluppo-software-project-management/">5 fallacie logiche che affliggono lo sviluppo software e il project management nell'ICT</a></li></ul></div></div></article><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"><link href="/main.ceec15bd736a22810641.css" rel="stylesheet"><footer class="bg-success text-light"><div class="container"><div class="row p-2"><div class="col"><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="link-light">CC BY-SA 4.0 by Eduard Roccatello</a></div><div class="col text-end"><a href="/privacy" class="link-light">Privacy policy</a></div></div></div></footer><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"><link href="/main.ceec15bd736a22810641.css" rel="stylesheet"><script src="/main.346aa.js"></script></body></html>