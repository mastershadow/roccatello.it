<!doctype html><html lang="en"><head><title>Scale GIS raster data using gdal_translate</title><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="generator" content="Eduard Roccatello"><meta name="generator" content="Hugo 0.150.0"><meta name="author" content="Eduard Roccatello"><meta name="description" content="The GIS paladin of raster data, gdal_translate, could solve your headaches when you want to reduce its scale from 16 bit per component to 8 bit per component."><meta property="og:title" content="Scale GIS raster data using gdal_translate"><meta property="og:site_name" content="Eduard Roccatello's GIS blog"><meta property="og:url" content="https://www.roccatello.it/2022/02/gdal-translate-scale-raster-gis-data/"><meta property="og:description" content="The GIS paladin of raster data, gdal_translate, could solve your headaches when you want to reduce its scale from 16 bit per component to 8 bit per component."><meta property="og:type" content="article"><meta property="og:image" content="https://www.roccatello.it/post/images/raster_dataset.png"><link href="init.ee2bdbeda8ae4e5525c6.css" rel="stylesheet"><script src="init.346aa.js"></script></head><body><nav class="navbar navbar-dark fixed-top bg-dark navbar-expand-lg" id="navbar-main"><div class="container"><a class="navbar-brand" href="/">Eduard Roccatello's GIS blog</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ms-auto"><li class="nav-item"><a class="nav-link" href="/#mondogis"><span>Tales from the GIS</span></a></li><li class="nav-item"><a class="nav-link" href="/post"><span>Articles</span></a></li><li class="nav-item"><a class="nav-link" href="/#showcase"><span>Showcase</span></a></li><li class="nav-item"><a class="nav-link" href="/#aboutme"><span>About</span></a></li><li class="nav-item"><a class="nav-link" href="/#contacts"><span>Contacts</span></a></li></ul></div></div></nav><article class="article" itemscope itemtype="http://schema.org/Article"><div class="p-3 bg-success text-light mb-0"><div class="container"><div class="row"><div class="col col-lg-8 offset-lg-2"><h2>Scale GIS raster data using gdal_translate</h2><p class="lead">The GIS paladin of raster data, gdal_translate, could solve your headaches when you want to reduce its scale from 16 bit per component to 8 bit per component.</p></div></div></div></div><div class="bg-secondary"><div class="container text-light"><div class="d-flex justify-content-between align-items-center pt-3 pb-3 col col-lg-8 offset-lg-2"><div class="article-metadata"><div><i class="fa fa-user fa-fw"></i>
<span itemscope itemprop="author" itemtype="http://schema.org/Person"><span itemprop="name">Eduard Roccatello</span></span></div><span class="article-date"><meta content="2022-02-21 00:00:00 +0000 UTC" itemprop="datePublished"><time datetime="2022-02-21 00:00:00 +0000 UTC" itemprop="dateModified"><i class="fa fa-calendar fa-fw mr-1"></i>2022-02-21
</time></span><span itemscope itemprop="publisher" itemtype="http://schema.org/Person"><meta itemprop="name" content="Eduard Roccatello"></span><span class="middot-divider"></span>
<span class="article-reading-time"><i class="fa fa-clock fa-fw mr-1"></i>3 min read</span></div><div class="share-box" aria-hidden="true"><ul class="share list-inline m-0"><li class="list-inline-item"><a class="facebook text-light" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.roccatello.it%2f2022%2f02%2fgdal-translate-scale-raster-gis-data%2f" target="_blank" rel="noopener"><i class="fab fa-fw fa-facebook-f"></i></a></li><li class="list-inline-item"><a class="linkedin text-light" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.roccatello.it%2f2022%2f02%2fgdal-translate-scale-raster-gis-data%2f&amp;title=Scale%20GIS%20raster%20data%20using%20gdal_translate" target="_blank" rel="noopener"><i class="fab fa-fw fa-linkedin-in"></i></a></li><li class="list-inline-item"><a class="email text-light" href="mailto:?subject=Scale%20GIS%20raster%20data%20using%20gdal_translate&amp;body=https%3a%2f%2fwww.roccatello.it%2f2022%2f02%2fgdal-translate-scale-raster-gis-data%2f"><i class="fas fa-fw fa-envelope"></i></a></li></ul></div></div></div></div><div class="container"><div class="article-style row pt-4" itemprop="articleBody"><div class="col col-lg-8 offset-lg-2"><p>Let&rsquo;s continue our journey into <strong>gdal_translate</strong> utility with another nice option.</p><h2 id="a-moment-what-is-gdal_translate">A moment&mldr; what is gdal_translate?</h2><p>The <strong>gdal_translate</strong> utility can be used to convert raster data between different formats, potentially performing some operations like sub-settings, resampling, and rescaling pixels in the process.</p><p>Anyway, the syntax is not so simple, as you can see in the help screen:</p><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="display:flex"><span>gdal_translate <span style="color:#f92672">[</span>--help-general<span style="color:#f92672">]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-ot <span style="color:#f92672">{</span>Byte/Int16/UInt16/UInt32/Int32/Float32/Float64/
</span></span><span style="display:flex"><span>            CInt16/CInt32/CFloat32/CFloat64<span style="color:#f92672">}]</span> <span style="color:#f92672">[</span>-strict<span style="color:#f92672">]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-if format<span style="color:#f92672">]</span>* <span style="color:#f92672">[</span>-of format<span style="color:#f92672">]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-b band<span style="color:#f92672">]</span>* <span style="color:#f92672">[</span>-mask band<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-expand <span style="color:#f92672">{</span>gray|rgb|rgba<span style="color:#f92672">}]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-outsize xsize<span style="color:#f92672">[</span>%<span style="color:#f92672">]</span>|<span style="color:#ae81ff">0</span> ysize<span style="color:#f92672">[</span>%<span style="color:#f92672">]</span>|0<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-tr xres yres<span style="color:#f92672">]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-r <span style="color:#f92672">{</span>nearest,bilinear,cubic,cubicspline,lanczos,average,rms,mode<span style="color:#f92672">}]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-unscale<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-scale<span style="color:#f92672">[</span>_bn<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>src_min src_max <span style="color:#f92672">[</span>dst_min dst_max<span style="color:#f92672">]]]</span>* <span style="color:#f92672">[</span>-exponent<span style="color:#f92672">[</span>_bn<span style="color:#f92672">]</span> exp_val<span style="color:#f92672">]</span>*
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-srcwin xoff yoff xsize ysize<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-epo<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-eco<span style="color:#f92672">]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-projwin ulx uly lrx lry<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-projwin_srs srs_def<span style="color:#f92672">]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-a_srs srs_def<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-a_coord_epoch &lt;epoch&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-a_ullr ulx uly lrx lry<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-a_nodata value<span style="color:#f92672">]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-a_scale value<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-a_offset value<span style="color:#f92672">]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-nogcp<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-gcp pixel line easting northing <span style="color:#f92672">[</span>elevation<span style="color:#f92672">]]</span>*
</span></span><span style="display:flex"><span>    |-colorinterp<span style="color:#f92672">{</span>_bn<span style="color:#f92672">}</span> <span style="color:#f92672">{</span>red|green|blue|alpha|gray|undefined<span style="color:#f92672">}]</span>
</span></span><span style="display:flex"><span>    |-colorinterp <span style="color:#f92672">{</span>red|green|blue|alpha|gray|undefined<span style="color:#f92672">}</span>,...<span style="color:#f92672">]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-mo <span style="color:#e6db74">&#34;META-TAG=VALUE&#34;</span><span style="color:#f92672">]</span>* <span style="color:#f92672">[</span>-q<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-sds<span style="color:#f92672">]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-co <span style="color:#e6db74">&#34;NAME=VALUE&#34;</span><span style="color:#f92672">]</span>* <span style="color:#f92672">[</span>-stats<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-norat<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-noxmp<span style="color:#f92672">]</span>
</span></span><span style="display:flex"><span>    <span style="color:#f92672">[</span>-oo NAME<span style="color:#f92672">=</span>VALUE<span style="color:#f92672">]</span>*
</span></span><span style="display:flex"><span>    src_dataset dst_dataset
</span></span></code></pre></div><blockquote><p>Conceptually, you just need to do:</p><p><strong>gdal_translate OPTIONS input output</strong></p></blockquote><p>Let&rsquo;s see some other examples!</p><h2 id="a-step-back-what-is-raster-data">A step back: what is raster data?</h2><p>I forgot to explain that in the previous post, so here it is!
In its simplest form, a raster consists of a matrix of cells (or pixels) organized into rows and columns (or a grid) where each cell contains a value representing information, such as temperature. Rasters are digital aerial photographs, imagery from satellites, digital pictures, or even scanned maps.
A raster dataset is composed of rows (running across) and columns (running down) of pixels (also know as cells). Each pixel represents a geographical region, and the value in that pixel represents some characteristic of that region.</p><figure><img src="/post/images/raster_dataset.png" width="100%"><figcaption><h4>Conceptual representation of a raster GIS data</h4></figcaption></figure><h2 id="scale-raster-data-value-components-with-gdal">Scale raster data value components with GDAL</h2><p>Each pixel in the image above could contain a lot of different information, which could be encoded in many ways.</p><p>Your computer screen is capable to show RGB data and each channel (red green blue) is encoded in a byte (8 bit). There is also space for a 8 bit alpha channel in a 32 bit per pixel image.</p><p>Raster data is way more complex than that, and could be greyscale with integer value, RGB with 24bit or 32bit, RGB with 16 bit per channel, non image data with float values.</p><p>Not only that, raster data could be also multiband so a specific data for the row / column tuple could have more than a value.</p><p><strong>Woot!</strong></p><blockquote><p>Now, how could you scale a 16bit greyscale raster into a 8bit greyscale raster? Simple! Let&rsquo;s use <strong>gdal_translate</strong> with the <strong>-scale</strong> option.</p></blockquote><p>The <strong>-scale</strong> options wants 4 values:</p><ul><li>source min value</li><li>source max value</li><li>target min value</li><li>target max value</li></ul><p>So if you want to map 16 bits into 8 bits, just do:</p><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="display:flex"><span>gdal_translate -scale <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">65535</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">255</span> input.tif output.tif
</span></span></code></pre></div><p>If you want to work on a multiband raster, you can use the <strong>-scale_bn</strong> option followed by the number of the band to work on.</p><blockquote><p>If you want some info on the raster you are working on, you could give a try to the <strong>-stats</strong> options. GDAL would rebuild a new output giving you information about the input raster.</p></blockquote></div></div><div class="article-widget col col-lg-8 offset-lg-2 mt-3"><div class="hr-light"></div><h3 class="text-secondary">Related</h3><hr><ul><li><a class="link-success" href="/2022/02/converting-gis-raster-data-formats-using-gdal/">Converting between GIS raster data formats using gdal_translate</a></li><li><a class="link-success" href="/2022/02/dark-maps-openstreetmap-qgis/">Create dark maps using OpenStreetMap and QGIS</a></li><li><a class="link-success" href="/2019/04/gis-5g-matrimonio-citta-futuro/">GIS e 5G: un matrimonio possibile per le citt√† del futuro?</a></li></ul></div></div></article><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"><link href="main.ceec15bd736a22810641.css" rel="stylesheet"><footer class="bg-success text-light"><div class="container"><div class="row p-2"><div class="col"><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="link-light">CC BY-SA 4.0 by Eduard Roccatello</a></div><div class="col text-end"><a href="/privacy" class="link-light">Privacy policy</a></div></div></div></footer><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"><link href="main.ceec15bd736a22810641.css" rel="stylesheet"><script src="main.346aa.js"></script></body></html>